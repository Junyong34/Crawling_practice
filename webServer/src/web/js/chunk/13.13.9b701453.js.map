{"version":3,"file":"js\\chunk\\13.13.9b701453.js","sources":["webpack:///./src/components/common/chart/timeline-chart.vue?a902","webpack:///./src/components/widgets/views/overview/timeline-view.vue?135e","webpack:///./src/components/common/chart/timeline-chart.vue?d27c","webpack:///./src/components/widgets/views/overview/timeline-view.vue?d16a","webpack:///./src/assets/svg/common/01-play-pause.svg","webpack:///./src/assets/svg/common/01-play-sq.svg","webpack:///./src/components/common/chart/timeline-chart.vue?7f9b","webpack:///./src/components/widgets/views/overview/timeline-view.vue?6761","webpack:///./src/components/common/chart/timeline-chart.vue?2c2b","webpack:///timeline-chart.vue","webpack:///./src/components/common/chart/timeline-chart.vue?f65f","webpack:///./src/components/common/chart/timeline-chart.vue","webpack:///timeline-view.vue","webpack:///./src/components/widgets/views/overview/timeline-view.vue?1d4e","webpack:///./src/components/widgets/views/overview/timeline-view.vue","webpack:///./src/components/widgets/views/overview/timeline-view.vue?b87c"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".timeline-chart {\\n  width: 100%;\\n  height: 100%;\\n}\\n.pcm-hi-timeline-tooltip {\\n  position: absolute;\\n  white-space: nowrap;\\n  z-index: 9999999;\\n  background-color: rgba(18, 18, 18, 0.85);\\n  border-radius: 4px;\\n  color: #cccccc;\\n  font: 9px/14px 'Microsoft YaHei';\\n  padding: 5px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.pcm-hi-timeline-tooltip .circle {\\n    display: inline-block;\\n    margin-right: 5px;\\n    border-radius: 10px;\\n    width: 10px;\\n    height: 10px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".timeline-view-container[data-v-9afb3e68] {\\n  height: 100%;\\n  width: 100%;\\n  padding-left: 16px;\\n  background-color: #1c1c1c;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-align: stretch;\\n      -ms-flex-align: stretch;\\n          align-items: stretch;\\n  -webkit-box-pack: start;\\n      -ms-flex-pack: start;\\n          justify-content: flex-start;\\n  -ms-flex-wrap: nowrap;\\n      flex-wrap: nowrap;\\n}\\n.timeline-view-container .chart-top[data-v-9afb3e68] {\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1 1 30px;\\n            flex: 1 1 30px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n}\\n.timeline-view-container .chart-top .chart-title[data-v-9afb3e68] {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-orient: horizontal;\\n      -webkit-box-direction: normal;\\n          -ms-flex-direction: row;\\n              flex-direction: row;\\n      -webkit-box-align: end;\\n          -ms-flex-align: end;\\n              align-items: flex-end;\\n      -webkit-box-pack: start;\\n          -ms-flex-pack: start;\\n              justify-content: flex-start;\\n      -ms-flex-wrap: nowrap;\\n          flex-wrap: nowrap;\\n}\\n.timeline-view-container .chart-top .chart-title .title-text[data-v-9afb3e68] {\\n        font-size: 12px;\\n        color: rgba(255, 255, 255, 0.87);\\n}\\n.timeline-view-container .chart-top .chart-info[data-v-9afb3e68] {\\n      -webkit-box-flex: 1;\\n          -ms-flex: 1;\\n              flex: 1;\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-orient: horizontal;\\n      -webkit-box-direction: normal;\\n          -ms-flex-direction: row;\\n              flex-direction: row;\\n      -webkit-box-align: stretch;\\n          -ms-flex-align: stretch;\\n              align-items: stretch;\\n      -webkit-box-pack: end;\\n          -ms-flex-pack: end;\\n              justify-content: flex-end;\\n      -ms-flex-wrap: nowrap;\\n          flex-wrap: nowrap;\\n}\\n.timeline-view-container .chart-top .chart-info .chart-legends[data-v-9afb3e68] {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-orient: horizontal;\\n        -webkit-box-direction: normal;\\n            -ms-flex-direction: row;\\n                flex-direction: row;\\n        -webkit-box-align: end;\\n            -ms-flex-align: end;\\n                align-items: flex-end;\\n        -webkit-box-pack: start;\\n            -ms-flex-pack: start;\\n                justify-content: flex-start;\\n        -ms-flex-wrap: nowrap;\\n            flex-wrap: nowrap;\\n        margin-right: 20px;\\n}\\n.timeline-view-container .chart-top .chart-info .chart-legends .legends-item[data-v-9afb3e68] {\\n          -webkit-box-flex: 1;\\n              -ms-flex: 1 1 auto;\\n                  flex: 1 1 auto;\\n}\\n.timeline-view-container .chart-top .chart-info .chart-legends .legends-item .color-circle[data-v-9afb3e68] {\\n            display: inline-block;\\n            width: 10px;\\n            height: 10px;\\n            border-radius: 50%;\\n}\\n.timeline-view-container .chart-top .chart-info .chart-legends .legends-item .text-box[data-v-9afb3e68] {\\n            display: inline-block;\\n            font-size: 11px;\\n            color: rgba(255, 255, 255, 0.87);\\n            opacity: 0.55;\\n            padding: 0 8px 0 5px;\\n}\\n.timeline-view-container .chart-top .chart-info .chart-date[data-v-9afb3e68] {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-orient: horizontal;\\n        -webkit-box-direction: normal;\\n            -ms-flex-direction: row;\\n                flex-direction: row;\\n        -webkit-box-align: end;\\n            -ms-flex-align: end;\\n                align-items: flex-end;\\n        -webkit-box-pack: start;\\n            -ms-flex-pack: start;\\n                justify-content: flex-start;\\n        -ms-flex-wrap: nowrap;\\n            flex-wrap: nowrap;\\n        margin-right: 25px;\\n}\\n.timeline-view-container .chart-bottom[data-v-9afb3e68] {\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1 1 50px;\\n            flex: 1 1 50px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    position: relative;\\n}\\n.timeline-view-container .chart-bottom .loading-bar[data-v-9afb3e68] {\\n      position: absolute;\\n      top: 100%;\\n      right: 0px;\\n      background: -webkit-gradient(linear, left top, right top, from(#03dac5), color-stop(#7e51ff), color-stop(#47ffb8), color-stop(#e8e3ff), color-stop(#45ffd5), to(#1c1c1c));\\n      background: linear-gradient(90deg, #03dac5, #7e51ff, #47ffb8, #e8e3ff, #45ffd5, #1c1c1c);\\n      /*background: #1c1c1c;*/\\n      width: calc(100% + 16px);\\n      height: 1px;\\n      overflow: hidden;\\n}\\n.timeline-view-container .chart-bottom .loading-bar .light-pause[data-v-9afb3e68] {\\n        position: absolute;\\n        width: 100%;\\n        height: 1px;\\n        background: gray;\\n        left: 0;\\n}\\n.timeline-view-container .chart-bottom .loading-bar .light-play[data-v-9afb3e68] {\\n        position: absolute;\\n        width: 100%;\\n        height: 1px;\\n        background: -webkit-gradient(linear, left top, right top, from(#03dac5), to(#5340d7));\\n        background: linear-gradient(90deg, #03dac5, #5340d7);\\n        left: 0;\\n        -webkit-animation: loading-ani-data-v-9afb3e68 4s linear infinite;\\n                animation: loading-ani-data-v-9afb3e68 4s linear infinite;\\n        will-change: left;\\n}\\n@-webkit-keyframes loading-ani-data-v-9afb3e68 {\\n0% {\\n    left: -1%;\\n    right: 70%;\\n}\\n100% {\\n    left: 101%;\\n    right: -50%;\\n}\\n}\\n@keyframes loading-ani-data-v-9afb3e68 {\\n0% {\\n    left: -1%;\\n    right: 70%;\\n}\\n100% {\\n    left: 101%;\\n    right: -50%;\\n}\\n}\\n.timeline-view-container .chart-bottom .chart-play[data-v-9afb3e68] {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-orient: horizontal;\\n      -webkit-box-direction: normal;\\n          -ms-flex-direction: row;\\n              flex-direction: row;\\n      -webkit-box-align: center;\\n          -ms-flex-align: center;\\n              align-items: center;\\n      -webkit-box-pack: start;\\n          -ms-flex-pack: start;\\n              justify-content: flex-start;\\n      -ms-flex-wrap: nowrap;\\n          flex-wrap: nowrap;\\n      cursor: pointer;\\n      /*img:hover {\\r\\n\\t\\t\\t\\tcursor: pointer;\\r\\n\\t\\t\\t}*/\\n}\\n.timeline-view-container .chart-bottom .chart-wrapper[data-v-9afb3e68] {\\n      -webkit-box-flex: 1;\\n          -ms-flex: 1;\\n              flex: 1;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-chart.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2fabf1cf\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-chart.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-chart.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-view.vue?vue&type=style&index=0&id=9afb3e68&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"128923be\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-view.vue?vue&type=style&index=0&id=9afb3e68&lang=scss&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-view.vue?vue&type=style&index=0&id=9afb3e68&lang=scss&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"img/01-play-pause.06d0f4df.svg\";","module.exports = __webpack_public_path__ + \"img/01-play-sq.82f902a1.svg\";","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-chart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-chart.vue?vue&type=style&index=0&lang=scss&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"timeline-view-container\" }, [\n    _c(\"div\", { staticClass: \"chart-top\" }, [\n      _vm._m(0),\n      _c(\"div\", { staticClass: \"chart-info\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"chart-legends\" },\n          _vm._l(_vm.configState, function(value, key, i) {\n            return _c(\"div\", { key: i, staticClass: \"legends-item\" }, [\n              _c(\"div\", {\n                staticClass: \"color-circle\",\n                style: {\n                  backgroundColor: value.color\n                }\n              }),\n              _c(\"div\", { staticClass: \"text-box\" }, [\n                _vm._v(_vm._s(value.text))\n              ])\n            ])\n          }),\n          0\n        ),\n        _c(\n          \"div\",\n          { staticClass: \"chart-date\" },\n          [\n            _c(\"el-date-picker\", {\n              attrs: {\n                type: \"datetime\",\n                placeholder: \"Select time\",\n                format: \"yyyy/MM/dd HH:mm\",\n                \"value-format\": \"timestamp\",\n                \"picker-options\": _vm.pickerOptions,\n                clearable: false,\n                editable: false,\n                size: \"mini\",\n                \"popper-class\": \"date-pos-change\"\n              },\n              on: { change: _vm.handleChange, focus: _vm.handleFocus },\n              model: {\n                value: _vm.calendarTime,\n                callback: function($$v) {\n                  _vm.calendarTime = $$v\n                },\n                expression: \"calendarTime\"\n              }\n            })\n          ],\n          1\n        )\n      ])\n    ]),\n    _c(\"div\", { staticClass: \"chart-bottom\" }, [\n      _c(\"div\", { staticClass: \"loading-bar\" }, [\n        _vm.pause\n          ? _c(\"div\", { staticClass: \"light-pause\" })\n          : _c(\"div\", { staticClass: \"light-play\" })\n      ]),\n      _c(\n        \"div\",\n        { staticClass: \"chart-play\", on: { click: _vm.togglePlayButton } },\n        [_vm._v(\" \" + _vm._s(_vm.pause ? \"▶\" : \"| |\") + \" \")]\n      ),\n      _c(\n        \"div\",\n        { staticClass: \"chart-wrapper\" },\n        [\n          _c(\"timeline-chart\", {\n            attrs: {\n              \"config-state\": _vm.configState,\n              \"chart-data\": _vm.chartData\n            }\n          })\n        ],\n        1\n      )\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"chart-title\" }, [\n      _c(\"span\", { staticClass: \"title-text\" }, [_vm._v(\"Timeline\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"timeline-chart\" },\n    [\n      _c(\"v-chart\", {\n        ref: \"timelineChart\",\n        attrs: { options: _vm.options, \"auto-resize\": \"\" }\n      }),\n      _c(\"div\", {\n        ref: \"chartTooltip\",\n        staticClass: \"pcm-hi-timeline-tooltip\",\n        staticStyle: { display: \"none\" }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"timeline-chart\">\r\n\t\t<v-chart :options=\"options\" auto-resize ref=\"timelineChart\" />\r\n\t\t<div ref=\"chartTooltip\" class=\"pcm-hi-timeline-tooltip\" style=\"display: none;\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.timeline-chart {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n.pcm-hi-timeline-tooltip {\r\n\tposition: absolute;\r\n\twhite-space: nowrap;\r\n\tz-index: 9999999;\r\n\tbackground-color: rgba(18, 18, 18, 0.85);\r\n\tborder-radius: 4px;\r\n\tcolor: rgb(204, 204, 204);\r\n\tfont: 9px/14px 'Microsoft YaHei';\r\n\tpadding: 5px;\r\n\tuser-select: none;\r\n\r\n\t.circle {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 5px;\r\n\t\tborder-radius: 10px;\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t}\r\n}\r\n</style>\r\n\r\n<script>\r\nimport moment from 'moment';\r\nimport _ from 'lodash-es';\r\nimport ECharts from './eCharts';\r\n\r\nexport default {\r\n\tname: 'timelineChart',\r\n\tcomponents: {\r\n\t\t'v-chart': ECharts,\r\n\t},\r\n\tprops: {\r\n\t\tchartData: Array,\r\n\t\tconfigState: Object,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisPointerDragging: false,\r\n\t\t\tisTickClicked: false,\r\n\t\t\tdraggingTickIndex: null,\r\n\t\t\toptions: {\r\n\t\t\t\tanimation: false,\r\n\t\t\t\tgrid: {\r\n\t\t\t\t\theight: 11,\r\n\t\t\t\t\tleft: 12,\r\n\t\t\t\t\tright: 12,\r\n\t\t\t\t\tbottom: 17,\r\n\t\t\t\t},\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\ttrigger: 'none',\r\n\t\t\t\t\ttriggerOn: 'click',\r\n\t\t\t\t},\r\n\t\t\t\txAxis: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tmargin: -23,\r\n\t\t\t\t\t\t\tcolor: '#ccc',\r\n\t\t\t\t\t\t\tfontSize: 10,\r\n\t\t\t\t\t\t\tformatter(tick, index) {\r\n\t\t\t\t\t\t\t\tlet ret = '';\r\n\r\n\t\t\t\t\t\t\t\tif (index % 10 === 0) {\r\n\t\t\t\t\t\t\t\t\tret = `${tick}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\tcolor: '#999',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tsnap: false,\r\n\t\t\t\t\t\t\ttriggerOn: 'none',\r\n\t\t\t\t\t\t\ttriggerTooltip: false,\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\thandle: {\r\n\t\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\t\tmargin: 5,\r\n\t\t\t\t\t\t\t\tcolor: '#7ff',\r\n\t\t\t\t\t\t\t\tshadowBlur: 0,\r\n\t\t\t\t\t\t\t\tshadowOffsetY: 0,\r\n\t\t\t\t\t\t\t\tthrottle: 1,\r\n\t\t\t\t\t\t\t\ticon:\r\n\t\t\t\t\t\t\t\t\t'image://data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJyb3RhdGUoMTgwIDkuNSAxMS41KSI+CiAgICAgICAgPHBhdGggZmlsbD0iI0U1RTVFNSIgZD0iTTEyIDBjMS4xMDUgMCAyIC44OTUgMiAydjlMNyAyMiAuMDAxIDExSDBWMkMwIC44OTUuODk1IDAgMiAwaDEweiIvPgogICAgICAgIDxjaXJjbGUgY3g9IjciIGN5PSI2LjUiIHI9IjMuNSIgZmlsbD0iIzEzMTMxNyIvPgogICAgPC9nPgo8L3N2Zz4K',\r\n\t\t\t\t\t\t\t\tsize: 20,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tzlevel: -2,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tposition: 'top',\r\n\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\tcolor: '#999',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tzlevel: -2,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t\ttoolbox: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t\tvisualMap: {\r\n\t\t\t\t\ttype: 'piecewise',\r\n\t\t\t\t\tbottom: '-500px',\r\n\t\t\t\t},\r\n\t\t\t\tseries: [],\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tgetChart() {\r\n\t\t\treturn this.$refs.timelineChart;\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tchartData: {\r\n\t\t\thandler(dataSet) {\r\n\t\t\t\tthis.onData(dataSet);\r\n\r\n\t\t\t\tconst index = this.getCurrentTickIndex(dataSet);\r\n\r\n\t\t\t\tthis.setTickIndex(index);\r\n\t\t\t\tthis.onTickChange(index, 'dataIn');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst chart = this.getChart;\r\n\t\t\tconst cv = chart.$el.querySelectorAll('canvas')[1];\r\n\r\n\t\t\tcv.addEventListener('mouseup', evt => {\r\n\t\t\t\tif (this.isPointerDragging) {\r\n\t\t\t\t\tthis.onTickChange(this.draggingTickIndex);\r\n\t\t\t\t}\r\n\t\t\t\tthis.isPointerDragging = false;\r\n\t\t\t});\r\n\r\n\t\t\tcv.addEventListener('mouseleave', evt => {\r\n\t\t\t\tif (this.isPointerDragging) {\r\n\t\t\t\t\tthis.onTickChange(this.draggingTickIndex);\r\n\t\t\t\t}\r\n\t\t\t\tthis.isPointerDragging = false;\r\n\t\t\t});\r\n\r\n\t\t\tchart.chart.on('click', info => {\r\n\t\t\t\tthis.onTickChange(info.dataIndex);\r\n\t\t\t\tthis.isTickClicked = true;\r\n\t\t\t});\r\n\r\n\t\t\tchart.chart.on('updateaxispointer', info => {\r\n\t\t\t\tif (!info.axesInfo) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.draggingTickIndex = info.dataIndex;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (info.dataIndex == null) {\r\n\t\t\t\t\tif (this.isPointerDragging) {\r\n\t\t\t\t\t\tthis.onTickChange(info.axesInfo[0].value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isPointerDragging = false;\r\n\t\t\t\t} else if (this.isTickClicked) {\r\n\t\t\t\t\tthis.isTickClicked = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isPointerDragging = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tchart.chart.on('mouseover', info => {\r\n\t\t\t\tconst x = info.event.event.pageX - 125;\r\n\t\t\t\tconst y = info.event.event.pageY - 150;\r\n\t\t\t\tconst data = info.data;\r\n\r\n\t\t\t\tthis.showTooltip(x, y, data);\r\n\t\t\t});\r\n\r\n\t\t\tchart.chart.on('mouseout', info => {\r\n\t\t\t\tthis.hideTooltip();\r\n\t\t\t});\r\n\r\n\t\t\tthis.setMapPieces();\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tonData(dataSet) {\r\n\t\t\tconst chart = this.getChart;\r\n\t\t\tconst configState = this.configState;\r\n\t\t\tconst ticks = [];\r\n\t\t\tconst seriesData = [];\r\n\r\n\t\t\tconst newData = new Array(60 * 3 + 1);\r\n\r\n\t\t\t// tick, data 초기화\r\n\t\t\tfor (let ix = 0, ixLen = newData.length; ix < ixLen; ix++) {\r\n\t\t\t\tconst data = dataSet[ix];\r\n\t\t\t\tconst type = data.type; // -1, 0, 1, 2\r\n\t\t\t\tconst unixtime = moment(data.time).unix();\r\n\r\n\t\t\t\tticks[ix] = moment(data.time).format('HH:mm');\r\n\t\t\t\tnewData[ix] = {\r\n\t\t\t\t\tunixtime,\r\n\t\t\t\t\tvisualization: { text: configState[type].text, color: configState[type].color },\r\n\t\t\t\t\t// data: { index: ix, data: { time: unixtime, type } },\r\n\t\t\t\t\tvalue: [ix, 0, type], // xAxis, yAxis, value\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tseriesData.push({\r\n\t\t\t\ttype: 'heatmap',\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tshadowBlur: 5,\r\n\t\t\t\t\t\tshadowColor: '#fff',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\titemStyle: {\r\n\t\t\t\t\tborderWidth: 1,\r\n\t\t\t\t\tborderColor: '#121212',\r\n\t\t\t\t},\r\n\t\t\t\tdata: newData,\r\n\t\t\t\tzlevel: -2,\r\n\t\t\t});\r\n\r\n\t\t\tchart.mergeOptions({\r\n\t\t\t\txAxis: [\r\n\t\t\t\t\t{ data: ticks, axisLine: { show: false } },\r\n\t\t\t\t\t{ data: [], axisLine: { show: false } },\r\n\t\t\t\t],\r\n\t\t\t\tseries: seriesData,\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetCurrentTickIndex(dataSet) {\r\n\t\t\t// 학습된 시간의 인덱스를 찾는다.\r\n\t\t\tconst lastIndex = _.findLastIndex(dataSet, o => {\r\n\t\t\t\treturn Number(o.type) !== -1;\r\n\t\t\t});\r\n\r\n\t\t\tlet index = lastIndex;\r\n\r\n\t\t\tif (lastIndex === -1) {\r\n\t\t\t\tindex = dataSet.length - 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn index;\r\n\t\t},\r\n\t\tsetTickIndex(v) {\r\n\t\t\tconst value = v === -1 ? 0 : v;\r\n\r\n\t\t\tthis.getChart.mergeOptions({ xAxis: { axisPointer: { value } } });\r\n\t\t},\r\n\t\t// type === undefined : update chartData\r\n\t\tonTickChange(tickIndex, type) {\r\n\t\t\tthis.$EventBus.$emit('EVENT_TIMELINE_TICK_CHANGE', { type, tickIndex });\r\n\t\t},\r\n\t\tsetMapPieces() {\r\n\t\t\tconst data = this.configState;\r\n\t\t\tconst pieces = [];\r\n\t\t\tconst chart = this.getChart;\r\n\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tpieces.push({ value: data[key].type, color: data[key].color });\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.options.visualMap.pieces) {\r\n\t\t\t\tthis.options.visualMap.pieces = pieces;\r\n\t\t\t}\r\n\r\n\t\t\tif (chart && chart.chart) {\r\n\t\t\t\tconst opt = chart.delegateMethod('getOption');\r\n\r\n\t\t\t\tif (!opt.visualMap.pieces) {\r\n\t\t\t\t\tchart.mergeOptions({ visualMap: { pieces } });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowTooltip(x, y, data) {\r\n\t\t\tconst tooltip = this.$refs.chartTooltip;\r\n\t\t\tconst time = moment(data.unixtime * 1000).format('YYYY-MM-DD HH:mm');\r\n\t\t\tconst result = [`<span style=\"font-size:9pt;font-weight:bold;\">${time}</span><br/>`];\r\n\t\t\tconst visualization = data.visualization;\r\n\r\n\t\t\tresult.push(`<br/>`);\r\n\t\t\tresult.push(\r\n\t\t\t\t`<span class=\"circle\" style=\"background-color: ${visualization.color};\"></span>`,\r\n\t\t\t);\r\n\t\t\tresult.push(`<span style=\"font-size:9pt;\">${visualization.text}</span><br/>`);\r\n\t\t\ttooltip.style = `left:${x}px; top:${y}px; display:block;`;\r\n\t\t\ttooltip.innerHTML = result.join('');\r\n\t\t},\r\n\t\thideTooltip() {\r\n\t\t\tconst tooltip = this.$refs.chartTooltip;\r\n\r\n\t\t\ttooltip.style.display = 'none';\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./timeline-chart.vue?vue&type=template&id=5fd451e7&\"\nimport script from \"./timeline-chart.vue?vue&type=script&lang=js&\"\nexport * from \"./timeline-chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./timeline-chart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\webCrawling\\\\crawling-front\\\\frontUI\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5fd451e7')) {\n      api.createRecord('5fd451e7', component.options)\n    } else {\n      api.reload('5fd451e7', component.options)\n    }\n    module.hot.accept(\"./timeline-chart.vue?vue&type=template&id=5fd451e7&\", function () {\n      api.rerender('5fd451e7', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/common/chart/timeline-chart.vue\"\nexport default component.exports","<template>\r\n\t<div class=\"timeline-view-container\">\r\n\t\t<div class=\"chart-top\">\r\n\t\t\t<div class=\"chart-title\"><span class=\"title-text\">Timeline</span></div>\r\n\t\t\t<div class=\"chart-info\">\r\n\t\t\t\t<div class=\"chart-legends\">\r\n\t\t\t\t\t<div class=\"legends-item\" v-for=\"(value, key, i) in configState\" :key=\"i\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"color-circle\"\r\n\t\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t\tbackgroundColor: value.color,\r\n\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t<div class=\"text-box\">{{ value.text }}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"chart-date\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\tv-model=\"calendarTime\"\r\n\t\t\t\t\t\ttype=\"datetime\"\r\n\t\t\t\t\t\tplaceholder=\"Select time\"\r\n\t\t\t\t\t\tformat=\"yyyy/MM/dd HH:mm\"\r\n\t\t\t\t\t\tvalue-format=\"timestamp\"\r\n\t\t\t\t\t\t:picker-options=\"pickerOptions\"\r\n\t\t\t\t\t\t:clearable=\"false\"\r\n\t\t\t\t\t\t:editable=\"false\"\r\n\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\t@change=\"handleChange\"\r\n\t\t\t\t\t\t@focus=\"handleFocus\"\r\n\t\t\t\t\t\tpopper-class=\"date-pos-change\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"chart-bottom\">\r\n\t\t\t<div class=\"loading-bar\">\r\n\t\t\t\t<div v-if=\"pause\" class=\"light-pause\"></div>\r\n\t\t\t\t<div v-else class=\"light-play\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"chart-play\" @click=\"togglePlayButton\">\r\n\t\t\t\t<!--\t\t\t\t<img :src=\"getImgUrl\" style=\"width: 24px; height: 24px;\" />-->\r\n\t\t\t\t{{ pause ? '▶' : '| |' }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"chart-wrapper\">\r\n\t\t\t\t<timeline-chart\r\n\t\t\t\t\t:config-state=\"configState\"\r\n\t\t\t\t\t:chart-data=\"chartData\"\r\n\t\t\t\t></timeline-chart>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.timeline-view-container {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tpadding-left: 16px;\r\n\tbackground-color: #1c1c1c;\r\n\t@include flex-align($d: column);\r\n\r\n\t.chart-top {\r\n\t\tflex: 1 1 30px;\r\n\t\tdisplay: flex;\r\n\r\n\t\t.chart-title {\r\n\t\t\t@include flex-align($a: flex-end);\r\n\r\n\t\t\t.title-text {\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t\tcolor: rgba(255, 255, 255, 0.87);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.chart-info {\r\n\t\t\tflex: 1;\r\n\t\t\t@include flex-align($j: flex-end);\r\n\r\n\t\t\t.chart-legends {\r\n\t\t\t\t@include flex-align($a: flex-end);\r\n\t\t\t\tmargin-right: 20px;\r\n\r\n\t\t\t\t.legends-item {\r\n\t\t\t\t\tflex: 1 1 auto;\r\n\r\n\t\t\t\t\t.color-circle {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\twidth: 10px;\r\n\t\t\t\t\t\theight: 10px;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.text-box {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tfont-size: 11px;\r\n\t\t\t\t\t\tcolor: rgba(255, 255, 255, 0.87);\r\n\t\t\t\t\t\topacity: 0.55;\r\n\t\t\t\t\t\tpadding: 0 8px 0 5px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.chart-date {\r\n\t\t\t\t@include flex-align($a: flex-end);\r\n\t\t\t\tmargin-right: 25px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.chart-bottom {\r\n\t\tflex: 1 1 50px;\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\r\n\t\t.loading-bar {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 100%;\r\n\t\t\tright: 0px;\r\n\r\n\t\t\tbackground: linear-gradient(\r\n\t\t\t\t90deg,\r\n\t\t\t\t#03dac5,\r\n\t\t\t\t#7e51ff,\r\n\t\t\t\t#47ffb8,\r\n\t\t\t\t#e8e3ff,\r\n\t\t\t\t#45ffd5,\r\n\t\t\t\t#1c1c1c\r\n\t\t\t);\r\n\t\t\t/*background: #1c1c1c;*/\r\n\t\t\twidth: calc(100% + 16px);\r\n\t\t\theight: 1px;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.light-pause {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 1px;\r\n\t\t\t\tbackground: gray;\r\n\t\t\t\tleft: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.light-play {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 1px;\r\n\t\t\t\tbackground: linear-gradient(90deg, #03dac5, #5340d7);\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tanimation: loading-ani 4s linear infinite;\r\n\t\t\t\twill-change: left;\r\n\t\t\t}\r\n\r\n\t\t\t@keyframes loading-ani {\r\n\t\t\t\t0% {\r\n\t\t\t\t\tleft: -1%;\r\n\t\t\t\t\tright: 70%;\r\n\t\t\t\t}\r\n\t\t\t\t100% {\r\n\t\t\t\t\tleft: 101%;\r\n\t\t\t\t\tright: -50%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.chart-play {\r\n\t\t\t@include flex-align($a: center);\r\n\t\t\tcursor: pointer;\r\n\t\t\t/*img:hover {\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}*/\r\n\t\t}\r\n\r\n\t\t.chart-wrapper {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n\r\n<script>\r\nimport timelineChart from '@/components/common/chart/timeline-chart';\r\nimport { mapGetters } from 'vuex';\r\nimport moment from 'moment';\r\nimport _ from 'lodash-es';\r\n\r\nexport default {\r\n\tname: 'timeline-view',\r\n\tcomponents: {\r\n\t\ttimelineChart,\r\n\t},\r\n\tprops: {\r\n\t\tparams: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {},\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcalendarTime: 0,\r\n\t\t\tpickerOptions: {\r\n\t\t\t\tdisabledDate(date) {\r\n\t\t\t\t\treturn date.getTime() > Date.now();\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tserviceIns: this.$webCaller.serviceIns,\r\n\t\t\tchartData: [],\r\n\t\t\tconfigState: {\r\n\t\t\t\t'-1': {\r\n\t\t\t\t\tstate: 'empty',\r\n\t\t\t\t\ttext: 'Empty',\r\n\t\t\t\t\tcolor: '#404040',\r\n\t\t\t\t\ttype: -1,\r\n\t\t\t\t},\r\n\t\t\t\t'0': {\r\n\t\t\t\t\tstate: 'normal',\r\n\t\t\t\t\ttext: 'Normal',\r\n\t\t\t\t\tcolor: '#00cca8',\r\n\t\t\t\t\ttype: 0,\r\n\t\t\t\t},\r\n\t\t\t\t'1': {\r\n\t\t\t\t\tstate: 'abnormal',\r\n\t\t\t\t\ttext: 'Abnormal',\r\n\t\t\t\t\tcolor: '#ffcc00',\r\n\t\t\t\t\ttype: 1,\r\n\t\t\t\t},\r\n\t\t\t\t'2': {\r\n\t\t\t\t\tstate: 'obstacle',\r\n\t\t\t\t\ttext: 'Obstacle',\r\n\t\t\t\t\tcolor: '#ff7c75',\r\n\t\t\t\t\ttype: 2,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tpause: false,\r\n\t\t\tParams: {},\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters({\r\n\t\t\tgetLatelyTime: 'params/getLatelyTime',\r\n\t\t\tgetTimeLine: 'params/getTimeLine',\r\n\t\t\tgetSystemId: 'params/getSystemId',\r\n\t\t}),\r\n\t\tgetImgUrl() {\r\n\t\t\tlet imgUrl;\r\n\r\n\t\t\tif (this.pause) {\r\n\t\t\t\timgUrl = require('@/assets/svg/common/01-play-sq.svg');\r\n\t\t\t} else {\r\n\t\t\t\timgUrl = require('@/assets/svg/common/01-play-pause.svg');\r\n\t\t\t}\r\n\r\n\t\t\treturn imgUrl;\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tgetLatelyTime: {\r\n\t\t\thandler(newVal, oldVal) {\r\n\t\t\t\tif (!newVal) return;\r\n\t\t\t\tif (newVal === oldVal) return;\r\n\t\t\t\tif (!this.getSystemId) return;\r\n\t\t\t\tthis.Params.sys_id = this.getSystemId;\r\n\t\t\t\tthis.Params.date = this.getLatelyTime;\r\n\t\t\t\tthis.summaryCall();\r\n\t\t\t\tthis.failureCall();\r\n\t\t\t},\r\n\t\t\timmediate: true,\r\n\t\t},\r\n\t\tgetTimeLine: {\r\n\t\t\thandler(data) {\r\n\t\t\t\tthis.parseData(data);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.$EventBus.$on('EVENT_TIMELINE_TICK_CHANGE', this.chartTickChange);\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.apiCall();\r\n\t\t});\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tthis.$EventBus.$off('EVENT_TIMELINE_TICK_CHANGE', this.chartTickChange);\r\n\t\tthis.$store.dispatch('params/pause', false);\r\n\t},\r\n\tdestroyed() {},\r\n\tmethods: {\r\n\t\tsummaryCall() {\r\n\t\t\tthis.serviceIns.get(\r\n\t\t\t\tthis.$api.basicInfo().failureCount,\r\n\t\t\t\tthis.Params,\r\n\t\t\t\t(status, response) => {\r\n\t\t\t\t\tthis.$store.dispatch('params/failure_count', response);\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t},\r\n\t\tfailureCall() {\r\n\t\t\tthis.serviceIns.get(\r\n\t\t\t\tthis.$api.basicInfo().anomalySummary,\r\n\t\t\t\tthis.Params,\r\n\t\t\t\t(status, response) => {\r\n\t\t\t\t\tthis.$store.dispatch('params/anomaly_summary', response);\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t},\r\n\t\thandleFocus(em) {\r\n\t\t\tconst popperEm = em.popperElm;\r\n\r\n\t\t\tif (popperEm !== undefined) {\r\n\t\t\t\t// show datepicker calendar\r\n\t\t\t\tconst nowButton = popperEm.querySelector('.el-button--text');\r\n\r\n\t\t\t\tif (nowButton && nowButton.style.display === '') {\r\n\t\t\t\t\tnowButton.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleChange(changeTime) {\r\n\t\t\tconst diffTime = 60 * 60 * 1000 * 3; // 3 hours\r\n\t\t\tconst fromTime = changeTime - diffTime;\r\n\r\n\t\t\tconst params = {\r\n\t\t\t\tto: changeTime,\r\n\t\t\t\tfrom: fromTime,\r\n\t\t\t};\r\n\r\n\t\t\tthis.setPauseType(true);\r\n\t\t\tthis.sideBarSwitchOn();\r\n\t\t\tthis.apiCall(params);\r\n\t\t},\r\n\t\tapiCall(params = {}) {\r\n\t\t\tconst path = this.$api.timeLine().timeLine;\r\n\r\n\t\t\tthis.serviceIns.get(path, params, (status, response) => {\r\n\t\t\t\tconst data = response.data;\r\n\t\t\t\tthis.$store.dispatch('params/timeLine', response);\r\n\t\t\t\tthis.parseData(data);\r\n\t\t\t});\r\n\t\t},\r\n\t\tparseData(data) {\r\n\t\t\tthis.chartData = data;\r\n\t\t\t// this.updateLatelyTime(data);\r\n\t\t},\r\n\t\tupdateLatelyTime(data) {\r\n\t\t\tconst time = this.getLearningTime(data);\r\n\r\n\t\t\tthis.dispatchLatelyTime(time);\r\n\t\t},\r\n\t\tgetLearningTime(data) {\r\n\t\t\tconst currentTime = moment().format('YYYY-MM-DD HH:mm');\r\n\t\t\tlet targetTime = moment(currentTime).valueOf();\r\n\r\n\t\t\tif (data.length > 0) {\r\n\t\t\t\t// 학습된 시간의 인덱스를 찾는다.\r\n\t\t\t\tconst lastIndex = _.findLastIndex(data, d => {\r\n\t\t\t\t\treturn Number(d.type) !== -1;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (lastIndex !== -1) {\r\n\t\t\t\t\ttargetTime = moment(data[lastIndex].time).valueOf();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn targetTime;\r\n\t\t},\r\n\t\tdispatchLatelyTime(time) {\r\n\t\t\tthis.calendarTime = new Date(time).valueOf();\r\n\t\t\tthis.$store.dispatch('params/latelyTime', time);\r\n\t\t},\r\n\t\tchartTickChange(evt) {\r\n\t\t\tconst tickIndex = evt.tickIndex;\r\n\r\n\t\t\tif (tickIndex === -1) {\r\n\t\t\t\tconsole.log('timeline data length 0');\r\n\t\t\t} else {\r\n\t\t\t\tlet time = moment(this.chartData[tickIndex].time).valueOf();\r\n\r\n\t\t\t\tif (evt.type !== 'dataIn') {\r\n\t\t\t\t\tthis.setPauseType(true);\r\n\t\t\t\t\tthis.sideBarSwitchOn();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dispatchLatelyTime(time);\r\n\t\t\t}\r\n\t\t},\r\n\t\ttogglePlayButton() {\r\n\t\t\tconst flag = !this.pause;\r\n\r\n\t\t\tthis.setPauseType(flag);\r\n\r\n\t\t\tif (!flag) {\r\n\t\t\t\tthis.sideBarSwitchOn();\r\n\t\t\t\tthis.apiCall();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetPauseType(flag) {\r\n\t\t\tthis.pause = flag;\r\n\t\t\tthis.$store.dispatch('params/pause', flag);\r\n\t\t},\r\n\t\tsideBarSwitchOn() {\r\n\t\t\tthis.$EventBus.$emit('SIDE_BAR_SWITCH_ON');\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./timeline-view.vue?vue&type=template&id=9afb3e68&scoped=true&\"\nimport script from \"./timeline-view.vue?vue&type=script&lang=js&\"\nexport * from \"./timeline-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./timeline-view.vue?vue&type=style&index=0&id=9afb3e68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9afb3e68\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\webCrawling\\\\crawling-front\\\\frontUI\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('9afb3e68')) {\n      api.createRecord('9afb3e68', component.options)\n    } else {\n      api.reload('9afb3e68', component.options)\n    }\n    module.hot.accept(\"./timeline-view.vue?vue&type=template&id=9afb3e68&scoped=true&\", function () {\n      api.rerender('9afb3e68', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/widgets/views/overview/timeline-view.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-view.vue?vue&type=style&index=0&id=9afb3e68&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-view.vue?vue&type=style&index=0&id=9afb3e68&lang=scss&scoped=true&\""],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAZA;AAcA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AATA;AAXA;AAuBA;AAjDA;AAoDA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AADA;AAGA;AAlBA;AAqBA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AAjGA;AAJA;AAwGA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AARA;AADA;AAYA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AAFA;AAIA;AACA;AAbA;AAgBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AA9GA;AA9LA;;ACtCA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6IA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAnBA;AA0BA;AACA;AApCA;AAsCA;AACA;AAEA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AACA;AACA;AAHA;AAbA;AAmBA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAIA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnHA;AArGA;;ACzLA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAiBA;AACA;AACA;;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}